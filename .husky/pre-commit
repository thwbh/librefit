# Format Rust code in src-tauri
echo "ðŸ¦€ Formatting Rust code..."
cd src-tauri && cargo fmt && cd ..

# Stage all formatted Rust files
RUST_FILES=$(git diff --name-only --diff-filter=ACM "*.rs" | grep "^src-tauri/")
if [ -n "$RUST_FILES" ]; then
  echo "ðŸ“¦ Staging formatted Rust files..."
  git add $RUST_FILES
fi

# Run lint-staged for JavaScript/TypeScript/Svelte files
echo "ðŸŽ¨ Formatting staged files with Prettier..."
npx lint-staged
